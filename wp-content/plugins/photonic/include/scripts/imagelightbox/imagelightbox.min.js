!function(a,b,c,d){"use strict";var e=function(){var a=c.body||c.documentElement,a=a.style;return""==a.WebkitTransition?"-webkit-":""==a.MozTransition?"-moz-":""==a.OTransition?"-o-":""==a.transition&&""},f=e()!==!1,g=function(a,b,c){var d={},f=e();d[f+"transform"]="translateX("+b+")",d[f+"transition"]=f+"transform "+c+"s linear",a.css(d)},h="ontouchstart"in b,i=b.navigator.pointerEnabled||b.navigator.msPointerEnabled,j=function(a){if(h)return!0;if(!i||"undefined"==typeof a||"undefined"==typeof a.pointerType)return!1;if("undefined"!=typeof a.MSPOINTER_TYPE_MOUSE){if(a.MSPOINTER_TYPE_MOUSE!=a.pointerType)return!0}else if("mouse"!=a.pointerType)return!0;return!1};a.fn.imageLightbox=function(d){var d=a.extend({selector:'id="imagelightbox"',allowedTypes:"png|jpg|jpeg|gif",animationSpeed:250,preloadNext:!0,enableKeyboard:!0,quitOnEnd:!1,quitOnImgClick:!1,quitOnDocClick:!0,onStart:!1,onEnd:!1,onLoadStart:!1,onLoadEnd:!1},d),e=a([]),k=a(),l=a(),m=0,n=0,o=0,p=!1,q=function(a){return!0},r=function(){var b=-1;return a(e).each(function(a,c){if(c.href==k[0].href)return b=a,!1}),b},s=function(){if(!l.length)return!0;var c=.8*a(b).width(),d=.9*a(b).height(),e=new Image;e.src=l.attr("src"),e.onload=function(){if(m=e.width,n=e.height,m>c||n>d){var f=m/n>c/d?m/c:n/d;m/=f,n/=f}l.css({width:m+"px",height:n+"px",top:(a(b).height()-n)/2+"px",left:(a(b).width()-m)/2+"px"})}},t=function(b){if(p)return!1;if(b="undefined"!=typeof b&&("left"==b?1:-1),l.length){if(b!==!1&&(e.length<2||d.quitOnEnd===!0&&(b===-1&&0==e.index(k)||1===b&&e.index(k)==e.length-1)))return v(),!1;var c={opacity:0};f?g(l,100*b-o+"px",d.animationSpeed/1e3):c.left=parseInt(l.css("left"))+100*b+"px",l.animate(c,d.animationSpeed,function(){u()}),o=0}p=!0,d.onLoadStart!==!1&&d.onLoadStart(),setTimeout(function(){l=a("<img "+d.selector+" />").attr("src",k.attr("href")).load(function(){l.appendTo("body"),s();var c={opacity:1};if(l.css("opacity",0),f)g(l,-100*b+"px",0),setTimeout(function(){g(l,"0px",d.animationSpeed/1e3)},50);else{var h=parseInt(l.css("left"));c.left=h+"px",l.css("left",h-100*b+"px")}if(l.animate(c,d.animationSpeed,function(){p=!1,d.onLoadEnd!==!1&&d.onLoadEnd()}),d.preloadNext){var i=e.eq(r()+1);i.length||(i=e.eq(0)),a("<img />").attr("src",i.attr("href")).load()}}).error(function(){d.onLoadEnd!==!1&&d.onLoadEnd()});var c=0,h=0,n=0;l.on(i?"pointerup MSPointerUp":"click",function(a){if(a.preventDefault(),d.quitOnImgClick)return v(),!1;if(j(a.originalEvent))return!0;var b=(a.pageX||a.originalEvent.pageX)-a.target.offsetLeft;k=e.eq(r()-(m/2>b?1:-1)),k.length||(k=e.eq(m/2>b?e.length:0)),t(m/2>b?"left":"right")}).on("touchstart pointerdown MSPointerDown",function(a){return!(j(a.originalEvent)&&!d.quitOnImgClick)||(f&&(n=parseInt(l.css("left"))),void(c=a.originalEvent.pageX||a.originalEvent.touches[0].pageX))}).on("touchmove pointermove MSPointerMove",function(a){return!((i||"pointermove"!=a.type)&&j(a.originalEvent)&&!d.quitOnImgClick)||(a.preventDefault(),h=a.originalEvent.pageX||a.originalEvent.touches[0].pageX,o=c-h,void(f?g(l,-o+"px",0):l.css("left",n-o+"px")))}).on("touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",function(a){return!(j(a.originalEvent)&&!d.quitOnImgClick)||void(Math.abs(o)>50?(k=e.eq(r()-(o<0?1:-1)),k.length||(k=e.eq(o<0?e.length:0)),t(o>0?"right":"left")):f?g(l,"0px",d.animationSpeed/1e3):l.animate({left:n+"px"},d.animationSpeed/2))})},d.animationSpeed+100)},u=function(){return!!l.length&&(l.remove(),void(l=a()))},v=function(){return!!l.length&&void l.animate({opacity:0},d.animationSpeed,function(){u(),p=!1,d.onEnd!==!1&&d.onEnd()})},w=function(b){b.each(function(){e=e.add(a(this))})};return a(b).on("resize",s),d.quitOnDocClick&&a(c).on(h?"touchend":"click",function(b){l.length&&!a(b.target).is(l)&&v()}),d.enableKeyboard&&a(c).on("keyup",function(a){return!l.length||(a.preventDefault(),27==a.keyCode&&v(),void(37!=a.keyCode&&39!=a.keyCode||(k=e.eq(r()-(37==a.keyCode?1:-1)),k.length||(k=e.eq(37==a.keyCode?e.length:0)),t(37==a.keyCode?"left":"right"))))}),a(c).on("click",this.selector,function(b){return!q(this)||(b.preventDefault(),!p&&(p=!1,d.onStart!==!1&&d.onStart(),k=a(this),void t()))}),this.each(function(){return!q(this)||void(e=e.add(a(this)))}),this.switchImageLightbox=function(a){var b=e.eq(a);if(b.length){var c=e.index(k);k=b,t(a<c?"left":"right")}return this},this.quitImageLightbox=function(){return v(),this},this.addToImageLightbox=function(a){w(a)},this}}(jQuery,window,document);

jQuery(document).ready(function(a){window.imageLightboxCaptionOn=function(){var c=a('a[href="'+a("#imagelightbox").attr("src")+'"]').data("title");void 0!=c&&c.length>0&&a('<div id="imagelightbox-caption">'+c+"</div>").appendTo("body")},window.imageLightboxCaptionOff=function(){a("#imagelightbox-caption").remove()},window.imageLightboxArrowsOn=function(c,d){var e=a('<button type="button" class="imagelightbox-arrow imagelightbox-arrow-left"></button><button type="button" class="imagelightbox-arrow imagelightbox-arrow-right"></button>');e.appendTo("body"),e.on("click touchend",function(b){b.preventDefault();var e=a(this),f=a(d+'[href="'+a("#imagelightbox").attr("src")+'"]'),g=f.index(d);return e.hasClass("imagelightbox-arrow-left")?(g-=1,a(d).eq(g).length||(g=a(d).length)):(g+=1,a(d).eq(g).length||(g=0)),c.switchImageLightbox(g),!1})},window.imageLightboxArrowsOff=function(){a(".imagelightbox-arrow").remove()},window.imageLightboxCloseButtonOn=function(c){a('<button type="button" id="imagelightbox-close" title="Close"></button>').appendTo("body").on("click touchend",function(){return a(this).remove(),c.quitImageLightbox(),!1})},window.imageLightboxCloseButtonOff=function(){a("#imagelightbox-close").remove()},window.imageLightboxLoadingOn=function(){a('<div id="imagelightbox-loading"><div></div></div>').appendTo("body")}});
